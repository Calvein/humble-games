<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Humble Games</title>

    <link rel="stylesheet" href="normalize.css">
    <style>
    body {
        background: url(data:image/png;base64,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);
        text-align: center;
        color: #fff;
        text-shadow: 0 2px 4px hsla(0, 0%, 0%, 0.4);
    }

    a {
        color: #5C7F1A;
    }

    span,
    iframe {
        display: inline-block;
        width: 550px;
        height: 264px;
    }

    iframe {
        border: 0;
        opacity: 0;
        -webkit-transition: opacity .3s ease-in-out;
                transition: opacity .3s ease-in-out;
    }

    iframe.shown {
        opacity: 1;
    }
    </style>
</head>
<body>
    <h1>All games from <a href="http://humblebundle.com">humblebundle.com</a></h1>
    <p>All your games are stored on your <a href="https://www.humblebundle.com/home">humble bundle account</a>. Feel free to <a href="https://github.com/calvein/humble-games/">edit this list</a>.</p>

    <script src="games.js"></script>
    <script>
    !function() {
        // Add spans placeholders for the lazy-load
        games.forEach(function(game) {
            var span = document.createElement('span')
            span.dataset.game = game

            document.body.appendChild(span)
        })

        // The spans which will be replaced by the iframes
        var gamesPlaceholders = document.querySelectorAll('span')
          , url = 'http://www.humblebundle.com/store/product/'
        /**
         * Replace a placeholder by an iframe
         * @param  {Node}  placeholder  The placeholder which will be replaced
         */
          , loadIframe = function(placeholder) {
            var iframe = document.createElement('iframe')
            iframe.width = '550'
            iframe.height = '264'
            iframe.src = url + placeholder.dataset.game;

            iframe.addEventListener('load', function() {
                iframe.className = 'shown'
            })

            // Replace the placeholder
            placeholder.parentElement.replaceChild(iframe, placeholder)

            // Rebuild the placeholders and verify if they are all transformed to iframes
            gamesPlaceholders = document.querySelectorAll('span')

            if (!gamesPlaceholders.length) {
                window.removeEventListener('load')
            }
        }
        /**
         * Detect if an element is in the viewport
         * @param  {Node}     el  The element which is detected
         * @return {boolean}      True if the element is in the viewport
         */
          , elementInViewport = function(el) {
            var rect = el.getBoundingClientRect()

            return (
                rect.top  >= 0 &&
                rect.left >= 0 &&
                rect.top  <= (window.innerHeight || document.documentElement.clientHeight)
            )
        }
        /**
         * Function called each time the user scroll, it detect if the elements are in the viewport
         * and if so replace them with the corresponding iframe
         */
          ,  processScroll = function() {
            ;[].forEach.call(gamesPlaceholders, function(placeholder) {
                if (elementInViewport(placeholder)) {
                    loadIframe(placeholder)
                }
            })
        }

        processScroll()
        window.addEventListener('scroll', processScroll)
    }()
    </script>
    <script>
        var _gaq=[['_setAccount','UA-37825336-1'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
</body>
</html>
